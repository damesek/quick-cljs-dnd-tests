shadow$provide.module$node_modules$react_dnd$dist$internals$TargetConnector=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.TargetConnector=void 0;var _shallowequal=require("module$node_modules$$react_dnd$shallowequal$dist$index"),_isRef=require("module$node_modules$react_dnd$dist$internals$isRef"),_wrapConnectorHooks=require("module$node_modules$react_dnd$dist$internals$wrapConnectorHooks");class TargetConnector{get connectTarget(){return this.dropTarget}reconnect(){const didChange=
this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();didChange&&this.disconnectDropTarget();const dropTarget=this.dropTarget;this.handlerId&&(dropTarget?didChange&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=dropTarget,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,dropTarget,this.dropTargetOptions)):this.lastConnectedDropTarget=dropTarget)}receiveHandlerId(newHandlerId){newHandlerId!==
this.handlerId&&(this.handlerId=newHandlerId,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(options){this.dropTargetOptionsInternal=options}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!(0,_shallowequal.shallowEqual)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&
(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetNode=this.dropTargetRef=null}constructor(backend){this.hooks=(0,_wrapConnectorHooks.wrapConnectorHooks)({dropTarget:(node,options)=>{this.clearDropTarget();this.dropTargetOptions=options;(0,_isRef.isRef)(node)?this.dropTargetRef=node:this.dropTargetNode=node;this.reconnect()}});this.lastConnectedDropTargetOptions=
this.lastConnectedDropTarget=this.lastConnectedHandlerId=this.dropTargetOptionsInternal=this.dropTargetRef=this.handlerId=null;this.backend=backend}}exports.TargetConnector=TargetConnector}
//# sourceMappingURL=module$node_modules$react_dnd$dist$internals$TargetConnector.js.map
