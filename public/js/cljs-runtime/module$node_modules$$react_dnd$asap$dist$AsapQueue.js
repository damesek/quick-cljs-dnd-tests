shadow$provide.module$node_modules$$react_dnd$asap$dist$AsapQueue=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.AsapQueue=void 0;var _makeRequestCall=require("module$node_modules$$react_dnd$asap$dist$makeRequestCall");class AsapQueue{enqueueTask(task){const {queue:q,requestFlush}=this;q.length||(requestFlush(),this.flushing=!0);q[q.length]=task}constructor(){this.queue=[];this.pendingErrors=[];this.flushing=!1;this.index=0;this.capacity=1024;
this.flush=()=>{const {queue:q}=this;for(;this.index<q.length;){const currentIndex=this.index;this.index++;q[currentIndex].call();if(this.index>this.capacity){for(let scan=0,newLength=q.length-this.index;scan<newLength;scan++)q[scan]=q[scan+this.index];q.length-=this.index;this.index=0}}this.index=q.length=0;this.flushing=!1};this.registerPendingError=err=>{this.pendingErrors.push(err);this.requestErrorThrow()};this.requestFlush=(0,_makeRequestCall.makeRequestCall)(this.flush);this.requestErrorThrow=
(0,_makeRequestCall.makeRequestCallFromTimer)(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift();})}}exports.AsapQueue=AsapQueue}
//# sourceMappingURL=module$node_modules$$react_dnd$asap$dist$AsapQueue.js.map
